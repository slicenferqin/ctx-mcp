# Context Engineering MCP

> å°†æ–‡ä»¶ç³»ç»Ÿä½œä¸ºAIçš„å¤–éƒ¨è®°å¿†ï¼Œè®©AIåƒæ“ä½œç³»ç»Ÿä¸€æ ·ç®¡ç†å·¥ä½œåŒºçŠ¶æ€

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## ğŸ¯ è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

**Context Engineering MCP** æ˜¯ä¸€å¥—å·¥å…·é›†ï¼Œå®ç°äº†"æ–‡ä»¶ç³»ç»Ÿä½œä¸ºå¤–éƒ¨è®°å¿†"çš„ç†å¿µï¼Œå¸®åŠ©AIåŠ©æ‰‹ï¼ˆå¦‚Claudeã€Cursorï¼‰æ›´é«˜æ•ˆåœ°ç®¡ç†ä¸Šä¸‹æ–‡ã€‚

### æ ¸å¿ƒé—®é¢˜

AIç¼–ç¨‹æ—¶å¸¸é‡åˆ°çš„å›°å¢ƒï¼š
- ğŸ”´ **ä¸Šä¸‹æ–‡çª—å£æœ‰é™**ï¼šé•¿è¾“å‡ºï¼ˆå¦‚npm installæ—¥å¿—ï¼‰å ç”¨å¤§é‡token
- ğŸ”´ **å¤šè½®å¯¹è¯æ··ä¹±**ï¼šAI"å¿˜è®°"ä¹‹å‰çš„ä¿®æ”¹ï¼Œåå¤çŠ¯é”™
- ğŸ”´ **ç¼ºä¹é¡¹ç›®è®¤çŸ¥**ï¼šä¸äº†è§£ä»£ç åº“ç»“æ„ã€å›¢é˜Ÿè§„èŒƒã€å½“å‰ç›®æ ‡

### è§£å†³æ–¹æ¡ˆ

é€šè¿‡ä¸‰å±‚ä¸Šä¸‹æ–‡ä½“ç³» + æ–‡ä»¶ç³»ç»Ÿå¤–éƒ¨è®°å¿†ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: é¡¹ç›®ä¸Šä¸‹æ–‡                     â”‚
â”‚  - ä»£ç åº“ç»“æ„å’Œç°æœ‰å®ç°                  â”‚
â”‚  - æ¶æ„è®¾è®¡æ–‡æ¡£ (ADR)                   â”‚
â”‚  æ¥æº: ä»£ç ä»“åº“ + é¡¹ç›®æ–‡æ¡£               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: å›¢é˜Ÿä¸Šä¸‹æ–‡                     â”‚
â”‚  - ç¼–ç è§„èŒƒå’Œå‘½åçº¦å®š                    â”‚
â”‚  - APIè®¾è®¡è§„èŒƒ                          â”‚
â”‚  æ¥æº: .ai/skills/ æ–‡æ¡£                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: æŠ€æœ¯æ ˆä¸Šä¸‹æ–‡                   â”‚
â”‚  - æ¡†æ¶å®˜æ–¹æ–‡æ¡£å’Œæœ€ä½³å®è·µ                â”‚
â”‚  æ¥æº: Context7 / å®˜æ–¹æ–‡æ¡£ MCP          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¤–éƒ¨è®°å¿†æœºåˆ¶**ï¼š
- é•¿è¾“å‡º â†’ ä¿å­˜åˆ° `.agent_memory/observations/`
- å·¥ä½œåŒºçŠ¶æ€ â†’ å¿«ç…§åˆ° `.agent_memory/state.md`
- å½“å‰ç›®æ ‡ â†’ è®°å½•åœ¨ `.agent_memory/goals.md`

## ğŸ“Š é¢„æœŸæ”¶ç›Š

å¼•å…¥ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰åï¼Œä½ çš„ AI ç¼–ç¨‹ä½“éªŒå°†è·å¾—è´¨çš„é£è·ƒï¼š

- **ğŸ“‰ Token æ¶ˆè€—é™ä½ 90%**ï¼šé€šè¿‡å°†é•¿è¾“å‡ºï¼ˆæ—¥å¿—ã€æ•°æ®ã€æ„å»ºäº§ç‰©ï¼‰å¸è½½åˆ°å¤–éƒ¨æ–‡ä»¶ç³»ç»Ÿï¼Œä»…ä¿ç•™å¼•ç”¨ï¼Œå¤§å¹…èŠ‚çœä¸Šä¸‹æ–‡çª—å£ã€‚
- **ğŸ“ˆ å‡†ç¡®ç‡æå‡ 40%**ï¼šç»“æ„åŒ–çš„ `.ai/skills` æ˜ç¡®äº†å›¢é˜Ÿè§„èŒƒï¼Œæ˜¾è‘—å‡å°‘ AI "è‡ªä½œä¸»å¼ " å¯¼è‡´çš„é”™è¯¯ã€‚
- **ğŸš€ é‡‡çº³ç‡æå‡**ï¼šé€šè¿‡æ ‡å‡†åŒ–é¡¹ç›®ç»“æ„ï¼Œæ–°åŠ å…¥çš„å¼€å‘è€…ï¼ˆæˆ–æ–°çš„ AI Sessionï¼‰èƒ½ç¬é—´ç†è§£é¡¹ç›®ä¸Šä¸‹æ–‡ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### é€‰æ‹©é€‚åˆä½ çš„å·¥å…·

| å·¥å…· | é€‚ç”¨åœºæ™¯ | å®‰è£…æ–¹å¼ |
|-----|---------|---------|
| ğŸ **Python MCP** | Claude Desktop + Pythoné¡¹ç›® | `pip install ctx-engine-mcp` |
| ğŸ“¦ **Node.js MCP** | Claude Desktop + JS/TSé¡¹ç›® | `npx context-engineering-mcp` |
| ğŸ”§ **CLIå·¥å…·** | ç‹¬ç«‹ä½¿ç”¨ï¼Œæ— éœ€AIå·¥å…· | `chmod +x ctx.py` |

### æ–¹å¼1: Node.js MCPï¼ˆæ¨èï¼‰

```bash
# 1. é…ç½® Claude Desktop
# ç¼–è¾‘ ~/Library/Application Support/Claude/claude_desktop_config.json
{
  "mcpServers": {
    "context-engineering": {
      "command": "npx",
      "args": ["-y", "context-engineering-mcp"]
    }
  }
}
```

### æ–¹å¼2: Python MCP

```bash
# 1. å®‰è£…
pip install ctx-engine-mcp

# 2. é…ç½® Claude Desktop
# ç¼–è¾‘ ~/Library/Application Support/Claude/claude_desktop_config.json
{
  "mcpServers": {
    "context-engineering": {
      "command": "uv",
      "args": [
        "tool",
        "run",
        "--from",
        "ctx-engine-mcp",
        "context-mcp"
      ]
    }
  }
}
# æˆ–è€…å¦‚æœä½¿ç”¨æ ‡å‡† pip å®‰è£…ï¼š
{
  "mcpServers": {
    "context-engineering": {
      "command": "python3",
      "args": ["-m", "context_mcp.server"]
    }
  }
}
```

### æ–¹å¼3: CLIå·¥å…·

```bash
# 1. ä¸‹è½½å¹¶å®‰è£…
chmod +x packages/cli/ctx.py
ln -s $(pwd)/packages/cli/ctx.py /usr/local/bin/ctx

# 2. åˆå§‹åŒ–é¡¹ç›®
ctx init

# 3. ç”Ÿæˆå·¥ä½œåŒºå¿«ç…§
ctx state --print

# 4. åŒ…è£…é•¿è¾“å‡ºå‘½ä»¤
ctx wrap npm install
```

## ï¿½ ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### åœºæ™¯ 1ï¼šé‡æ„é—ç•™ä»£ç æ¨¡å—

**é—®é¢˜**ï¼šä½ éœ€è¦é‡æ„ä¸€ä¸ªå¤æ‚çš„é—ç•™æ¨¡å—ï¼Œä»£ç é‡å·¨å¤§ï¼Œç›´æ¥ä¸¢ç»™ AI ä¼šè¶…å‡ºä¸Šä¸‹æ–‡é™åˆ¶ï¼Œä¸”å®¹æ˜“ç ´åç°æœ‰é€»è¾‘ã€‚

**Context Engineering è§£å†³æ–¹æ¡ˆ**ï¼š

1.  **åˆå§‹åŒ–**ï¼š`ctx init` åˆ›å»ºæ ‡å‡†ç»“æ„ã€‚
2.  **å®šä¹‰è§„èŒƒ**ï¼šåœ¨ `.ai/skills/refactoring-guide.md` ä¸­å®šä¹‰é‡æ„åŸåˆ™ï¼ˆå¦‚ "ä¿æŒå‡½æ•°çº¯åº¦"ã€"é”™è¯¯å¤„ç†è§„èŒƒ"ï¼‰ã€‚
3.  **ç†è§£ç°çŠ¶**ï¼šAI è°ƒç”¨ `get_workspace_state` è·å–å…¨å±€è§†å›¾ï¼Œç„¶åæŒ‰éœ€è¯»å–å…³é”®æ–‡ä»¶ã€‚
4.  **æ‰§è¡Œé‡æ„**ï¼š
    *   AI è¯·æ±‚è¿è¡Œæµ‹è¯•ï¼š`ctx wrap npm test`ï¼ˆç»“æœå­˜å…¥ `.agent_memory/observations/`ï¼‰ã€‚
    *   AI è¯»å–æµ‹è¯•å¤±è´¥æ—¥å¿—ï¼š`read_observation("test_fail.log")`ï¼ˆåªè¯»å–é”™è¯¯éƒ¨åˆ†ï¼‰ã€‚
    *   AI ä¿®å¤ä»£ç å¹¶å†æ¬¡è¿è¡Œæµ‹è¯•ã€‚

### åœºæ™¯ 2ï¼šæ–°æˆå‘˜ï¼ˆAIï¼‰å…¥èŒ

**é—®é¢˜**ï¼šæ¯æ¬¡å¼€å¯ä¸€ä¸ªæ–°çš„ AI Sessionï¼Œéƒ½è¦é‡å¤ä¸€é "æˆ‘ä»¬è¦ç”¨ TypeScriptï¼Œç¼©è¿›ç”¨ 2 ç©ºæ ¼..."ã€‚

**Context Engineering è§£å†³æ–¹æ¡ˆ**ï¼š

1.  é¡¹ç›®æ ¹ç›®å½•å·²æœ‰ `.ai/skills/coding-standards.md`ã€‚
2.  AI å¯åŠ¨æ—¶è‡ªåŠ¨é€šè¿‡ MCP è¯»å– `.ai/skills` ç›®å½•ã€‚
3.  **ç»“æœ**ï¼šAI ç¬¬ä¸€è¡Œä»£ç å°±å®Œå…¨ç¬¦åˆå›¢é˜Ÿè§„èŒƒï¼Œæ— éœ€ä»»ä½• Prompt è°ƒæ•™ã€‚

## ï¿½ğŸ“š æ ¸å¿ƒåŠŸèƒ½

### 1. åˆå§‹åŒ–ä¸Šä¸‹æ–‡ç»“æ„

```bash
# åˆ›å»ºæ ‡å‡†ç›®å½•ç»“æ„
.ai/
â””â”€â”€ skills/
    â””â”€â”€ coding-standards.md    # å›¢é˜Ÿç¼–ç è§„èŒƒ

.agent_memory/
â”œâ”€â”€ goals.md                   # å½“å‰ç›®æ ‡
â”œâ”€â”€ state.md                   # å·¥ä½œåŒºå¿«ç…§
â”œâ”€â”€ observations/              # é•¿è¾“å‡ºå­˜å‚¨
â””â”€â”€ context_cache/             # ä¸Šä¸‹æ–‡ç¼“å­˜
```

### 2. å·¥ä½œåŒºçŠ¶æ€å¿«ç…§

AIå¯ä»¥éšæ—¶è°ƒç”¨ `get_workspace_state` è·å–ï¼š
- ğŸ“‹ å½“å‰ç›®æ ‡ï¼ˆgoals.mdï¼‰
- ğŸ“ ç›®å½•ç»“æ„ï¼ˆæ·±åº¦2å±‚ï¼‰
- ğŸ”„ GitçŠ¶æ€ï¼ˆæœªæäº¤çš„ä¿®æ”¹ï¼‰
- ğŸ“ æœ€è¿‘çš„commit

### 3. é•¿è¾“å‡ºå¤–éƒ¨åŒ–

```python
# ä¼ ç»Ÿæ–¹å¼ï¼ˆå ç”¨å¤§é‡tokenï¼‰
$ npm install
[10000è¡Œè¾“å‡ºå ç”¨ä¸Šä¸‹æ–‡çª—å£]

# ä½¿ç”¨å¤–éƒ¨è®°å¿†
$ ctx wrap npm install
âœ… Output saved to: .agent_memory/observations/20260121_npm_install.log
ğŸ“Š Size: 50000 chars, 1200 lines
Preview (Head 10 lines):
...
```

### 4. æŒ‰éœ€è¯»å–

AIåªåœ¨éœ€è¦æ—¶è¯»å–å®Œæ•´å†…å®¹ï¼š
```
AI: "è®©æˆ‘æ£€æŸ¥npm installçš„å®Œæ•´è¾“å‡º"
â†’ è°ƒç”¨ read_observation("20260121_npm_install.log")
â†’ åªåœ¨éœ€è¦æ—¶åŠ è½½ï¼Œä¸å ç”¨å¸¸é©»ä¸Šä¸‹æ–‡
```

## ğŸ› ï¸ å·¥å…·å¯¹æ¯”

| ç‰¹æ€§ | CLIå·¥å…· | Python MCP | Node.js MCP |
|-----|--------|-----------|------------|
| ç‹¬ç«‹ä½¿ç”¨ | âœ… | âŒ | âŒ |
| Claudeé›†æˆ | âŒ | âœ… | âœ… |
| è‡ªåŠ¨è°ƒç”¨ | âŒ | âœ… | âœ… |
| è·¨å¹³å° | âœ… | âœ… | âœ… |
| å®‰è£…éš¾åº¦ | ç®€å• | ä¸­ç­‰ | ç®€å• |

## ğŸ“– æ–‡æ¡£

- [AIç¼–ç¨‹æœ€ä½³å®è·µ](./docs/ai-programming-best-practices.md) - ç†è®ºåŸºç¡€
- [æ–‡ä»¶ç³»ç»Ÿä½œä¸ºå¤–éƒ¨è®°å¿†](./docs/file-system-as-external-memory.md) - å®ç°å¯¹æ¯”
- [Python MCPä½¿ç”¨æŒ‡å—](./packages/python-mcp/README.md)
- [Node.js MCPä½¿ç”¨æŒ‡å—](./packages/node-mcp/README.md)
- [CLIå·¥å…·ä½¿ç”¨æŒ‡å—](./packages/cli/README.md)

## ğŸ“ æ ¸å¿ƒç†å¿µ

### åŠ¨æ€ä¸Šä¸‹æ–‡ vs é™æ€ä¸Šä¸‹æ–‡

```
âŒ é™æ€ä¸Šä¸‹æ–‡ï¼ˆä½æ•ˆï¼‰
å¯åŠ¨æ—¶åŠ è½½æ‰€æœ‰Skills â†’ 200K tokens â†’ AIå¤„ç†ç¼“æ…¢

âœ… åŠ¨æ€ä¸Šä¸‹æ–‡ï¼ˆé«˜æ•ˆï¼‰
ç´¢å¼•1K + æŒ‰éœ€åŠ è½½5K â†’ 6K tokens â†’ AIå“åº”å¿«é€Ÿ
```

### æ–‡ä»¶ç³»ç»Ÿä½œä¸ºå¤–éƒ¨è®°å¿†

```
ä¼ ç»Ÿæ–¹å¼ï¼š
æ‰€æœ‰ä¿¡æ¯éƒ½åœ¨ä¸Šä¸‹æ–‡çª—å£ â†’ å¾ˆå¿«è¾¾åˆ°ä¸Šé™ â†’ å¼€å§‹"é—å¿˜"

å¤–éƒ¨è®°å¿†æ–¹å¼ï¼š
æ ¸å¿ƒä¿¡æ¯åœ¨ä¸Šä¸‹æ–‡ + è¯¦ç»†ä¿¡æ¯åœ¨æ–‡ä»¶ â†’ æŒ‰éœ€åŠ è½½ â†’ æ°¸ä¸é—å¿˜
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘è®¾ç½®

```bash
# å…‹éš†ä»“åº“
git clone git@github.com:slicenferqin/ctx-mcp.git
cd ctx-mcp

# Python MCPå¼€å‘
cd packages/python-mcp
pip install -e .

# Node.js MCPå¼€å‘
cd packages/node-mcp
npm install
npm run build
```

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](./LICENSE)

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®å—ä»¥ä¸‹å·¥ä½œå¯å‘ï¼š
- [InfiAgent](https://github.com/polyuiislab/infiAgent) - åæ­¥ç­–ç•¥å’ŒåµŒå¥—æ³¨æ„åŠ›æœºåˆ¶
- [Manus](https://manus.im/zh-cn/blog/Context-Engineering-for-AI-Agents-Lessons-from-Building-Manus) - å¯æ¢å¤å‹ç¼©ç†å¿µ
- [Cursor](https://cursor.com/cn/blog/dynamic-context-discovery) - åŠ¨æ€ä¸Šä¸‹æ–‡å‘ç°

## ğŸ“® è”ç³»

- GitHub Issues: [æäº¤é—®é¢˜](https://github.com/slicenferqin/ctx-mcp/issues)
- è®¨è®º: [GitHub Discussions](https://github.com/slicenferqin/ctx-mcp/discussions)

---

**è®°ä½è¿™ä¸ªå…¬å¼**ï¼š
```
AIç¼–ç¨‹æ•ˆæœ = AIèƒ½åŠ› Ã— ä¸Šä¸‹æ–‡è´¨é‡
```

AIçš„èƒ½åŠ›æ˜¯å›ºå®šçš„ï¼Œä½†ä¸Šä¸‹æ–‡è´¨é‡æ˜¯ä½ å¯ä»¥æ§åˆ¶çš„å˜é‡ã€‚
